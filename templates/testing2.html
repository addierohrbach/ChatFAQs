<!doctype html>

<head>
    <title>ChatFAQs</title>
    <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro" rel="stylesheet">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='style.css')}}">
</head>

<body>


    <!-- <div class="row">
        <div class="machine-message">
            <p>Welcome to ChatFAQs! Please ask your question using the text box at the bottom of the screen.</p>
        </div>
    </div>

    <div class="row">
        <div class="user-message">
            <p>THIS IS FAKE</p>
        </div>
    </div>

    <div class="row">
        <div class="machine-message">
            <p>Welcome to ChatFAQs! Please ask your question using the text box at the bottom of the screen.</p>
        </div>
    </div> -->
    <div class="container-fluid">
        {% for message in messages %}
        <div class="row">
            <div class="{{ message[0] }}">
                {% if  message[0] == "machine-message" %}
                    {% if  message == messages[indexanchor] %}
                        <a id="anchor"></a>
                    {% endif %}
                    {{message[1][1] | safe}}
                    {% for line in message[1][2] %}
                        {{line | safe}}
                    {% endfor %}
                {% elif  message[0] == "alt-questions" %}
                <div class="accordion">{{message[1][1] | safe}}<span class="chevron">&rsaquo;</span></div>
                    <div class="panel">
                    {% for line in message[1][2] %}
                        {{line | safe}}
                    {% endfor %}
                    </div>
                    <!--<button type="submit"  name="altquestion" onclick="{{ onclickfun() }}">{{message[1][1] | safe}}</button>-->
                {% else %}
                    {% if  message == messages[indexanchor] %}
                        <a id="anchor"></a>
                        {{message[1]}}
                    {% else %}
                        {{message[1]}}
                    {% endif %}
                {% endif %}
            </div>
        </div>
        {% endfor %}
    </div>

    <div class="container-fluid input-wrapper">
        <form action="" method="post" class="message-form">
            <!-- <input type="text" name="message" placeholder="Enter Message Here."/> -->
            {{ form.hidden_tag() }}
            {% for field in form %}
            <div class="field">
                {% if field.errors %}
                {% for error in field.errors %}
                <div class="notification error">{{ error }}</div>
                {% endfor %}
                {% endif %}
                {{ field(placeholder=placeholder) }}
            </div>
            {% endfor %}
            <button type="submit" class="submit">Send</button>

        </form>
    </div>

<script>
    var acc = document.getElementsByClassName("accordion");
    var i;

    for (i = 0; i < acc.length; i++) {
      acc[i].addEventListener("click", function() {
        var panel = this.nextElementSibling;
        panel.classList.toggle("active");
        // window.scrollTo(0, document.body.scrollHeight);
        // you can uncomment this if you want it to auto scroll to the bottom
        // when a search is made
      });
    }
</script>

</body>
